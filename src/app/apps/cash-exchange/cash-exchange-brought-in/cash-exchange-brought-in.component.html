<form [formGroup]="moneyBroughtIn">
    <table class="table overflow-clip bg-gray-200 shadow-md">
        <caption class="py-2 text-xl">Money Brought In</caption>
        <thead class="bg-gray-50 border-2 border-gray-200 text-sm">
            <tr>
                <th class="w-1/8 p-1 sm:p-2 text-sm font-semibold tracking-wide">$</th>
                <th class="w-1/8 p-1 sm:p-2 text-sm font-semibold tracking-wide">Count of Bill/Rolls of Coin</th>
                <th class="w-2/8 p-1 sm:p-2 text-sm font-semibold tracking-wide">$ per Roll</th>
                <th class="w-4/8 p-1 sm:p-2 text-sm font-semibold tracking-wide">Cash Value</th>
            </tr>
        </thead>
        <tbody>
            @for(item of sortedDenominationBroughtIn; track $index){
            <tr [class]="$index % 2 ? 'bg-gray-50' : 'bg-white'" [formGroupName]="item.label.toString()">
                <td class="p-1 sm:p-2 text-gray-700 text-center">
                    {{ item.denomination | currency }}
                </td>
                <td class="p-1 sm:p-2 text-gray-700">
                    <mat-form-field>
                        <mat-label>
                            @switch (item.denominationType) {
                            @case ('Coin') {
                            Rolls of {{ item.denomination | currency}} Coins
                            }
                            @case ('Bill') {
                            Count of {{ item.denomination | currency }} Bills
                            }
                            }
                        </mat-label>
                        <input matInput type="number" formControlName="countOfBillRollsOfCoin" (input)="detectCountOfBillCoinRollInput()" />
                    </mat-form-field>
                </td>
                <td class="p-1 sm:p-2 text-gray-700 text-center">
                    @if(item.amountPerRoll){
                    {{ item.amountPerRoll | currency }}
                    }
                </td>
                <td class="p-1 sm:p-2 text-gray-700 text-right">
                    {{ onCountOfBillCoinRollInput(item.label, item.denomination, item.amountPerRoll) | currency }}
                </td>
            </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3" class="p-1 sm:p-2 text-gray-700 text-right">Total Amount</th>
                <td class="p-1 sm:p-2 text-gray-700 text-right">{{ cashExchangeStore.totals().moneySentOutAmount | currency }}</td>
            </tr>
        </tfoot>
    </table>
</form>